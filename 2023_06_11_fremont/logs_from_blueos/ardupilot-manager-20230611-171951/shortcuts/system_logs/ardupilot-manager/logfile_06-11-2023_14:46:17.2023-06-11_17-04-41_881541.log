2023-06-11 17:04:41.878 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49148 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:04:41.911 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49150 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:04:43.599 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:04:43.621 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:04:43.622 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:04:43.624 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:04:43.625 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:04:43.627 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:04:43.629 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:04:43.630 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:04:43.724 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:04:43.725 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:04:43.727 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:04:43.727 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:04:43.731 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:04:43.744 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:04:43.745 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:04:43.746 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:04:43.747 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:04:43.785 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:04:43.815 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:04:44.869 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:04:44.875 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:04:44.887 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:04:44.907 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:04:44.909 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:04:44.911 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:04:44.914 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb5509f88>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb5509f88>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb5509f88>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb5509f88>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5441df0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5441df0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5441df0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5441df0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5441df0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb580cc88>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb54018e0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb5441670>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb5441670>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:04:44.978 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49054 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:04:44.988 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49222 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:04:47.855 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49322 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:04:47.884 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49324 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:04:49.867 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:04:49.868 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:04:51.368 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:04:51.378 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:04:51.416 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49396 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:04:53.862 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49480 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:04:53.889 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49482 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:04:54.970 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:04:54.990 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:04:54.991 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:04:54.993 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:04:54.995 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:04:54.997 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:04:54.998 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:04:55.000 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:04:55.092 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:04:55.093 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:04:55.094 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:04:55.095 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:04:55.098 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:04:55.123 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:04:55.127 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:04:55.129 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:04:55.130 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:04:55.174 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:04:55.206 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:04:56.850 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:04:56.853 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:04:56.868 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49572 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:04:57.284 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:04:57.306 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:04:57.308 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:04:57.310 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:04:57.311 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb53629a0>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb53629a0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb53629a0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb53629a0>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9ef8>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9ef8>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9ef8>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9ef8>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9ef8>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb541f388>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fdf0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fdf0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fdf0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fdf0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fdf0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb541fec8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5446da8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb54c9820>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb54c9820>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:04:57.365 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49394 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:04:59.857 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49640 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:04:59.888 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49642 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:01.260 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:01.262 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:05:02.852 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:02.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:02.921 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49722 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:05.863 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49822 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:05.893 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49824 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:06.361 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:06.377 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:06.379 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:06.380 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:05:06.381 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:05:06.383 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:05:06.385 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:05:06.388 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:05:06.504 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:05:06.504 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:05:06.505 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:05:06.506 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:06.509 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:06.523 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:05:06.524 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:05:06.526 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:05:06.527 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:05:06.571 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:05:06.602 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:05:08.674 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:08.696 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:08.699 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:08.701 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:05:08.702 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb4a74778>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb4a74778>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb4a74778>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb4a74778>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb549c3d0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb549c3d0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb549c3d0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb549c3d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb549c3d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb580c538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb580c538>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb580c538>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb580cc88>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5314388>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5314388>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5314388>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5314388>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5314388>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb53143d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54018e0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54018e0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54018e0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb54462f8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb549c0b8>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb549c0b8>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:05:08.776 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49726 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:05:09.853 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:09.858 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:09.898 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49932 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:11.868 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49984 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:11.892 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:49986 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:12.652 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:12.655 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:05:15.863 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:15.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:15.904 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50106 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:17.759 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:17.777 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:17.778 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:17.779 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:05:17.781 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:05:17.783 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:05:17.785 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:05:17.787 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:05:17.889 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:05:17.890 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:05:17.891 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:05:17.892 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:17.895 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:17.911 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:05:17.912 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:05:17.913 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:05:17.914 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:05:17.954 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:05:17.985 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:05:19.055 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50168 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:19.082 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50170 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:20.080 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:20.100 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:20.103 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:20.104 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:05:20.106 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb4acc598>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb4acc598>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb4acc598>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb4acc598>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54ad808>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54ad808>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54ad808>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54ad808>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54ad808>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f3d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f3d0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f3d0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb541f2f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53892b0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53892b0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53892b0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53892b0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53892b0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb53891d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389970>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389970>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389970>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb541fec8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb54ad1a8>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb54ad1a8>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:05:20.169 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50070 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:05:21.845 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:21.849 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:21.884 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50276 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:24.030 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:24.031 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:05:24.847 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50352 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:24.874 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50354 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:27.850 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:27.853 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:27.881 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50448 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:29.118 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:29.133 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:29.135 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:29.136 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:05:29.137 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:05:29.139 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:05:29.140 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:05:29.141 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:05:29.280 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:05:29.282 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:05:29.283 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:05:29.284 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:29.290 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:29.306 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:05:29.307 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:05:29.308 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:05:29.309 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:05:29.350 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:05:29.379 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:05:30.875 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50528 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:30.908 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50530 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:31.446 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:31.463 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:31.464 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:31.465 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:05:31.466 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb534d8c8>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb534d8c8>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb534d8c8>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb534d8c8>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb534d8f8>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb534d8f8>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb534d8f8>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb534d8f8>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb534d8f8>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a678e0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a678e0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a678e0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a67538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a676a0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a676a0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a676a0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a676a0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a676a0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a673d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67ad8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67ad8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67ad8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a674f0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb534d220>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb534d220>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:05:31.504 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50386 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:05:33.861 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:33.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:33.903 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50624 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:35.423 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:35.425 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:05:36.860 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50966 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:36.901 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50968 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:36.964 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51008 - "GET / HTTP/1.1" 200
2023-06-11 17:05:36.996 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51010 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:05:37.006 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51012 - "GET /docs HTTP/1.1" 200
2023-06-11 17:05:37.018 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51014 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:05:37.031 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51016 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:05:37.054 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51018 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:05:37.065 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51024 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:05:37.076 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51026 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:05:39.856 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:39.860 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:39.892 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51152 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:40.503 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:40.513 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:40.514 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:40.515 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:05:40.516 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:05:40.516 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:05:40.517 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:05:40.518 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:05:40.601 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:05:40.602 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:05:40.603 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:05:40.604 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:40.607 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:40.621 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:05:40.622 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:05:40.623 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:05:40.624 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:05:40.660 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:05:40.709 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:05:42.810 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:42.829 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:42.830 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:42.832 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:05:42.833 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb549ce80>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb549ce80>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb549ce80>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb549ce80>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54adc88>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54adc88>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54adc88>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54adc88>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54adc88>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67f58>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67f58>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67f58>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a675c8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67a00>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67a00>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67a00>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67a00>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67a00>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5510538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53dbf10>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53dbf10>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53dbf10>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb548a988>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb548a988>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:05:42.891 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:50970 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:05:42.904 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51242 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:42.922 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51244 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:45.877 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:45.882 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:45.914 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51320 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:46.784 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:46.787 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:05:48.872 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51398 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:48.913 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51400 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:51.857 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:51.861 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:51.899 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:51.911 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51492 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:51.926 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:51.928 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:51.929 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:05:51.931 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:05:51.932 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:05:51.934 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:05:51.935 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:05:52.016 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:05:52.016 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:05:52.017 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:05:52.019 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:52.023 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:52.036 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:05:52.037 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:05:52.038 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:05:52.039 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:05:52.076 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:05:52.106 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:05:54.178 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:05:54.200 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:05:54.204 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:05:54.207 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:05:54.209 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb4a74418>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb4a74418>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb4a74418>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb4a74418>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546bb80>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546bb80>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546bb80>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546bb80>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546bb80>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53143d0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5446da8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb54462f8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb580cc88>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb580c538>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5314388>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb546beb0>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb546beb0>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:05:54.276 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51396 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:05:54.847 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51568 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:05:54.864 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51570 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:05:57.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:05:57.869 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:05:57.896 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51654 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:05:58.150 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:05:58.150 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:00.860 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51740 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:00.889 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51742 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:03.240 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:03.262 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:03.263 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:03.265 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:06:03.266 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:06:03.267 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:06:03.269 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:06:03.270 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:06:03.401 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:06:03.402 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:06:03.405 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:06:03.406 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:03.409 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:03.422 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:06:03.423 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:06:03.425 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:06:03.426 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:06:03.473 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:06:03.504 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:06:04.561 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:04.568 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:04.609 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51838 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:05.602 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:05.621 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:05.622 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:05.623 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:06:05.624 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb5452370>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb5452370>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb5452370>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb5452370>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18298>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18298>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18298>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18298>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18298>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67fa0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67fa0>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67fa0>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a676e8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a671d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a671d8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a671d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a671d8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a671d8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a67d60>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5401850>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5401850>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5401850>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67418>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb549ce50>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb549ce50>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:06:05.663 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51704 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:06:06.863 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51916 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:06.892 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:51920 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:09.558 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:06:09.559 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:09.861 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:09.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:09.886 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52004 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:12.870 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52084 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:12.899 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52086 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:14.654 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:14.672 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:14.673 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:14.675 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:06:14.676 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:06:14.678 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:06:14.680 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:06:14.681 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:06:14.796 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:06:14.797 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:06:14.798 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:06:14.799 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:14.802 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:14.815 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:06:14.816 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:06:14.817 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:06:14.818 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:06:14.857 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:06:14.887 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:06:15.938 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:15.947 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:15.954 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:15.976 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:15.979 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:15.982 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:06:15.985 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb4a18568>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb4a18568>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb4a18568>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb4a18568>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5452dd8>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5452dd8>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5452dd8>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5452dd8>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb5452dd8>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53896e8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53896e8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53896e8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5389970>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5389c40>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389658>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389658>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389658>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5401928>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb5452e68>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb5452e68>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:06:16.050 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52026 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:06:16.064 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52182 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:18.861 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52254 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:18.892 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52258 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:20.935 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:06:20.936 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:21.873 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:21.880 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:21.930 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52336 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:24.867 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52420 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:24.896 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52422 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:26.024 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:26.036 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:26.037 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:26.038 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:06:26.040 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:06:26.041 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:06:26.042 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:06:26.043 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:06:26.127 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:06:26.128 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:06:26.130 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:06:26.131 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:26.134 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:26.150 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:06:26.152 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:06:26.154 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:06:26.155 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:06:26.193 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:06:26.224 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:06:27.273 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:27.287 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:27.288 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:27.289 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:06:27.290 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb548a868>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb548a868>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb548a868>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb548a868>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546b868>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546b868>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546b868>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546b868>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb546b868>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb541f2f8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb541fe80>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fec8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fec8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fec8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fec8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541fec8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb541f388>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb541f3d0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53143d0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb546b7f0>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb546b7f0>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:06:27.330 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52334 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:06:27.861 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:27.865 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:27.896 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52524 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:30.865 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52588 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:30.900 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52590 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:32.273 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:06:32.276 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:33.870 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:33.874 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:33.915 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52686 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:36.851 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52906 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:36.874 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52908 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:37.358 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:37.372 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:37.375 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:37.378 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:06:37.380 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:06:37.381 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:06:37.382 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:06:37.383 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:06:37.474 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:06:37.475 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:06:37.477 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:06:37.478 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:37.482 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:37.498 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:06:37.499 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:06:37.501 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:06:37.502 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:06:37.553 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:06:37.586 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:06:38.649 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:38.677 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:38.679 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:38.682 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:06:38.683 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb546b040>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb546b040>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb546b040>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb546b040>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54418f8>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54418f8>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54418f8>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54418f8>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54418f8>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53404a8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53404a8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb53404a8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a67f58>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67340>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67340>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67340>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67340>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67340>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a67a00>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a675c8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a675c8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a675c8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb53409b8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb5441fb8>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb5441fb8>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:06:38.737 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:52644 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:06:39.869 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:39.873 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:39.906 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53000 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:42.859 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53064 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:42.883 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53066 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:43.638 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:06:43.640 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:45.875 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:45.879 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:45.932 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53164 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:48.742 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:48.765 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:48.767 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:48.768 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:06:48.769 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:06:48.771 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:06:48.772 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:06:48.773 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:06:48.861 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:06:48.862 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:06:48.863 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:06:48.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:48.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:48.880 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:06:48.880 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:06:48.882 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:06:48.883 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:06:48.920 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:06:48.950 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:06:50.024 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53252 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:50.051 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:06:50.071 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53254 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:50.078 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:06:50.079 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:06:50.080 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:06:50.081 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb53628c8>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb53628c8>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb53628c8>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb53628c8>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb548ad18>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb548ad18>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb548ad18>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb548ad18>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb548ad18>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb547fd60>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb547fd60>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb547fd60>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb547fe38>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547fe80>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547fe80>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547fe80>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547fe80>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547fe80>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb547ffa0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547f2b0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547f2b0>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb547f2b0>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb547f1d8>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb548af70>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb548af70>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:06:50.126 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53104 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:06:51.850 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:51.854 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:51.886 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53338 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:55.001 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:06:55.004 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:06:55.878 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53434 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:06:55.919 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53436 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:06:57.411 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:06:57.414 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:06:57.435 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53514 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:06:58.178 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53680 - "GET / HTTP/1.1" 200
2023-06-11 17:06:58.214 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53682 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:06:58.225 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53690 - "GET /docs HTTP/1.1" 200
2023-06-11 17:06:58.240 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53692 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:06:58.248 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53694 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:06:58.257 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53696 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:06:58.267 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53698 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:06:58.278 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53700 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:07:00.097 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:00.117 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:00.119 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:00.121 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:07:00.122 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:07:00.124 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:07:00.126 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:07:00.127 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:07:00.242 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:07:00.242 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:07:00.243 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:07:00.244 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:00.247 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:00.260 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:07:00.261 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:07:00.263 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:07:00.263 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:07:00.309 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:07:00.343 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:07:01.416 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53826 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:01.435 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:01.454 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:01.455 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:01.456 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:07:01.456 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb4aa1520>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb4aa1520>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb4aa1520>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb4aa1520>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9d18>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9d18>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9d18>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9d18>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb54c9d18>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67190>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67190>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb4a67190>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb4a67bf8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67658>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67658>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67658>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67658>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb4a67658>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5423100>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5423148>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5423148>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5423148>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a677c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb4aa1fb8>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb4aa1fb8>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:07:01.496 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53438 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:07:01.504 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53828 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:02.465 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:02.468 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:02.484 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53894 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:06.397 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:07:06.400 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:07:06.475 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53976 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:06.563 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53988 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:08.686 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:08.692 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:08.770 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54052 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:11.491 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:11.510 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:11.514 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:11.515 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:07:11.518 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:07:11.519 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:07:11.521 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:07:11.523 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:07:11.641 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:07:11.642 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:07:11.646 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:07:11.647 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:11.650 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:11.663 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:07:11.664 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:07:11.665 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:07:11.666 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:07:11.704 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:07:11.736 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:07:12.811 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54142 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:12.831 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:12.848 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54144 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:12.860 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:12.861 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:12.862 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:07:12.868 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb5452e50>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb5452e50>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb5452e50>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb5452e50>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a90bb0>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a90bb0>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a90bb0>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a90bb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a90bb0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389c40>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389c40>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389c40>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5389a00>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53891d8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5389c88>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389a90>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389a90>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5389a90>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb4a67970>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb4a90b68>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb4a90b68>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:07:12.921 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:53978 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:07:13.810 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:13.814 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:13.845 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54218 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:17.783 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:07:17.784 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:07:17.873 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54314 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:17.929 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54320 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:18.904 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:18.907 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:18.940 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54368 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:22.876 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:22.895 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:22.898 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:22.899 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:07:22.901 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:07:22.904 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:07:22.905 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:07:22.907 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:07:23.014 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:07:23.016 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:07:23.017 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:07:23.017 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:23.020 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:23.034 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:07:23.035 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:07:23.037 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:07:23.037 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:07:23.076 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:07:23.106 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:07:24.173 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:24.184 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54496 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:24.186 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:24.207 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:24.247 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:24.250 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:24.251 | ERROR    | commonwealth.utils.apis:custom_route_handler:36 - Unhandled service exception.
2023-06-11 17:07:24.253 | ERROR    | commonwealth.utils.apis:custom_route_handler:37 - Did not receive an updated HEARTBEAT before timeout.
Traceback (most recent call last):

  File "/home/pi/services/ardupilot_manager/main.py", line 244, in <module>
    loop.run_until_complete(server.serve())
    │    │                  │      └ <function Server.serve at 0xb5d23100>
    │    │                  └ <uvicorn.server.Server object at 0xb5509aa8>
    │    └ <function BaseEventLoop.run_until_complete at 0xb6465da8>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>

  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 634, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0xb6465d60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 601, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0xb6467b20>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.9/asyncio/base_events.py", line 1905, in _run_once
    handle._run()
    │      └ <function Handle._run at 0xb64ad808>
    └ <Handle <TaskStepMethWrapper object at 0xb534d8b0>()>
  File "/usr/local/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0xb534d8b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0xb534d8b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0xb534d8b0>()>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/protocols/http/h11_impl.py", line 396, in run_asgi
    result = await app(self.scope, self.receive, self.send)
                   │   │    │      │    │        │    └ <function RequestResponseCycle.send at 0xb53140b8>
                   │   │    │      │    │        └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18610>
                   │   │    │      │    └ <function RequestResponseCycle.receive at 0xb5314100>
                   │   │    │      └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18610>
                   │   │    └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                   │   └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18610>
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18610>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0xb4a18610>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xb52e9028>
  File "/usr/local/lib/python3.9/site-packages/uvicorn-0.13.4-py3.9.egg/uvicorn/middleware/message_logger.py", line 61, in __call__
    await self.app(scope, inner_receive, inner_send)
          │    │   │      │              └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389268>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb560c2c8>
          └ <uvicorn.middleware.message_logger.MessageLoggerMiddleware object at 0xb5509b38>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389268>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function MessageLoggerMiddleware.__call__.<locals>.inner_send at 0xb5389268>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
          └ <fastapi.applications.FastAPI object at 0xb560c2c8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5371610>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb560c340>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53719b8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb560c310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb560c3d0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53719b8>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Mount.handle at 0xb5f08808>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 376, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53719b8>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.applications.FastAPI object at 0xb5509508>
          └ <starlette.routing.Mount object at 0xb55094c0>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53719b8>
                           │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb53719b8>
          │    │                │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
          └ <fastapi.applications.FastAPI object at 0xb5509508>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xb5371a00>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xb5509400>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5371898>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0xb5509310>
          └ <starlette.exceptions.ExceptionMiddleware object at 0xb5509430>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5371898>
          │     │      │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0xb5f084f0>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0xb5371898>
          │    │   │      └ <function MessageLoggerMiddleware.__call__.<locals>.inner_receive at 0xb5389460>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.1'}, 'http_version': '1.0', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0xb54f0148>
          └ <commonwealth.utils.apis.GenericErrorHandlingRoute object at 0xb5531ce8>
  File "/usr/local/lib/python3.9/site-packages/starlette-0.13.6-py3.9.egg/starlette/routing.py", line 41, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0xb549cd60>
                     └ <function GenericErrorHandlingRoute.get_route_handler.<locals>.custom_route_handler at 0xb54f0100>
> File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/utils/apis.py", line 31, in custom_route_handler
    return await original_route_handler(request)
                 │                      └ <starlette.requests.Request object at 0xb549cd60>
                 └ <function get_request_handler.<locals>.app at 0xb54f0028>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xb5f08ec8>
  File "/usr/local/lib/python3.9/site-packages/fastapi-0.63.0-py3.9.egg/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {}
                 │         └ <function get_vehicle_type at 0xb555afa0>
                 └ <fastapi.dependencies.models.Dependant object at 0xb5531e50>

  File "/home/pi/services/ardupilot_manager/main.py", line 124, in get_vehicle_type
    return await autopilot.vehicle_manager.get_vehicle_type()
                 │         │               └ <function VehicleManager.get_vehicle_type at 0xb618edf0>
                 │         └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
                 └ <ArduPilotManager.ArduPilotManager object at 0xb55eea48>

  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/VehicleManager.py", line 75, in get_vehicle_type
    heartbeat_message = await self.mavlink2rest.get_updated_mavlink_message("HEARTBEAT")
                              │    │            └ <function MavlinkMessenger.get_updated_mavlink_message at 0xb618ebb0>
                              │    └ <commonwealth.mavlink_comm.MavlinkComm.MavlinkMessenger object at 0xb55eef88>
                              └ <commonwealth.mavlink_comm.VehicleManager.VehicleManager object at 0xb55eec58>
  File "/usr/local/lib/python3.9/site-packages/commonwealth-0.1.0-py3.9.egg/commonwealth/mavlink_comm/MavlinkComm.py", line 125, in get_updated_mavlink_message
    raise FetchUpdatedMessageFail(f"Did not receive an updated {message_name} before timeout.")
          └ <class 'commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail'>

commonwealth.mavlink_comm.exceptions.FetchUpdatedMessageFail: Did not receive an updated HEARTBEAT before timeout.
2023-06-11 17:07:24.300 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54334 - "GET /v1.0/vehicle_type HTTP/1.0" 500
2023-06-11 17:07:24.306 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54498 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:24.317 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54528 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:26.567 | DEBUG    | multipart.multipart:callback:604 - Calling on_part_begin with no data
2023-06-11 17:07:26.568 | DEBUG    | multipart.multipart:callback:601 - Calling on_header_field with data[42:61]
2023-06-11 17:07:26.571 | DEBUG    | multipart.multipart:callback:601 - Calling on_header_value with data[63:107]
2023-06-11 17:07:26.575 | DEBUG    | multipart.multipart:callback:604 - Calling on_header_end with no data
2023-06-11 17:07:26.577 | DEBUG    | multipart.multipart:callback:601 - Calling on_header_field with data[109:121]
2023-06-11 17:07:26.578 | DEBUG    | multipart.multipart:callback:601 - Calling on_header_value with data[123:147]
2023-06-11 17:07:26.581 | DEBUG    | multipart.multipart:callback:604 - Calling on_header_end with no data
2023-06-11 17:07:26.583 | DEBUG    | multipart.multipart:callback:604 - Calling on_headers_finished with no data
2023-06-11 17:07:26.589 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[151:37743]
2023-06-11 17:07:26.592 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.595 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[37744:64941]
2023-06-11 17:07:26.604 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:44300]
2023-06-11 17:07:26.606 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.609 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[44301:65482]
2023-06-11 17:07:26.614 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:26460]
2023-06-11 17:07:26.615 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.617 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[26461:27008]
2023-06-11 17:07:26.619 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.622 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[27009:65482]
2023-06-11 17:07:26.631 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:58158]
2023-06-11 17:07:26.632 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.635 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[58159:65482]
2023-06-11 17:07:26.643 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65482]
2023-06-11 17:07:26.648 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65464]
2023-06-11 17:07:26.650 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.652 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[65465:65482]
2023-06-11 17:07:26.658 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65482]
2023-06-11 17:07:26.662 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:43680]
2023-06-11 17:07:26.664 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.666 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[43681:55136]
2023-06-11 17:07:26.667 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.669 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[55137:65482]
2023-06-11 17:07:26.672 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:9974]
2023-06-11 17:07:26.673 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.675 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[9975:65482]
2023-06-11 17:07:26.680 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65482]
2023-06-11 17:07:26.683 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:42944]
2023-06-11 17:07:26.684 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.686 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[42945:65466]
2023-06-11 17:07:26.687 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.689 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[65467:65482]
2023-06-11 17:07:26.693 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65482]
2023-06-11 17:07:26.697 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65482]
2023-06-11 17:07:26.700 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1936]
2023-06-11 17:07:26.702 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.705 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[1937:65482]
2023-06-11 17:07:26.710 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:65536]
2023-06-11 17:07:26.718 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:82542]
2023-06-11 17:07:26.719 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.722 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[82543:142130]
2023-06-11 17:07:26.723 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.725 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[142131:150842]
2023-06-11 17:07:26.726 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.729 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[150843:225546]
2023-06-11 17:07:26.730 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.732 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[225547:262144]
2023-06-11 17:07:26.759 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:200432]
2023-06-11 17:07:26.761 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.762 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[200433:201833]
2023-06-11 17:07:26.763 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.764 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[201834:203272]
2023-06-11 17:07:26.765 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.768 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[203273:262118]
2023-06-11 17:07:26.769 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.770 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[262119:262134]
2023-06-11 17:07:26.772 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.773 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[262135:262144]
2023-06-11 17:07:26.788 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:163133]
2023-06-11 17:07:26.789 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.792 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[163134:243469]
2023-06-11 17:07:26.793 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.795 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[243470:262118]
2023-06-11 17:07:26.796 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.797 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[262119:262134]
2023-06-11 17:07:26.798 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:1]
2023-06-11 17:07:26.799 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[262135:262144]
2023-06-11 17:07:26.836 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:262144]
2023-06-11 17:07:26.854 | DEBUG    | multipart.multipart:callback:601 - Calling on_part_data with data[0:121184]
2023-06-11 17:07:26.855 | DEBUG    | multipart.multipart:callback:604 - Calling on_part_end with no data
2023-06-11 17:07:26.857 | DEBUG    | multipart.multipart:callback:604 - Calling on_end with no data
2023-06-11 17:07:26.877 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:07:29.153 | DEBUG    | ArduPilotManager:auto_restart_ardupilot:94 - Restarting ardupilot...
2023-06-11 17:07:29.154 | INFO     | ArduPilotManager:kill_ardupilot:434 - Disarming vehicle.
2023-06-11 17:07:29.243 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54676 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:29.401 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:29.407 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:29.430 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54688 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:29.444 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54690 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:31.962 | WARNING  | commonwealth.mavlink_comm.MavlinkComm:get_updated_mavlink_message:123 - no new messages after 5.0 seconds, triggering system-id detection
2023-06-11 17:07:31.981 | DEBUG    | commonwealth.mavlink_comm.MavlinkComm:get_most_recent_vehicle_id:102 - 1 (detected)
2023-06-11 17:07:31.985 | INFO     | commonwealth.mavlink_comm.MavlinkComm:set_system_id:28 - system_id set to: 1
2023-06-11 17:07:31.986 | WARNING  | ArduPilotManager:kill_ardupilot:438 - Could not disarm vehicle: Did not receive an updated HEARTBEAT before timeout.. Proceeding with kill.
2023-06-11 17:07:31.988 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:07:31.989 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:07:31.991 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:07:31.993 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:07:32.077 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:07:32.078 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:07:32.079 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:07:32.080 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:32.083 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:32.147 | INFO     | firmware.FirmwareManagement:install_firmware_from_file:83 - Succefully installed firmware for Navigator.
2023-06-11 17:07:32.152 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:32.155 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:32.167 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:07:32.168 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:07:32.170 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:07:32.171 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:07:32.214 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:07:32.246 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:07:33.290 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54594 - "POST /v1.0/install_firmware_from_file?board_name=Navigator HTTP/1.0" 200
2023-06-11 17:07:33.324 | DEBUG    | commonwealth.mavlink_comm.VehicleManager:disarm_vehicle:109 - Vehicle already disarmed.
2023-06-11 17:07:33.325 | INFO     | ArduPilotManager:kill_ardupilot:436 - Vehicle disarmed.
2023-06-11 17:07:33.327 | INFO     | ArduPilotManager:kill_ardupilot:443 - Terminating Ardupilot subprocess.
2023-06-11 17:07:33.329 | DEBUG    | ArduPilotManager:terminate_ardupilot_subprocess:416 - Waiting for process to die...
2023-06-11 17:07:33.334 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54682 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:07:33.839 | INFO     | ArduPilotManager:terminate_ardupilot_subprocess:414 - Ardupilot subprocess terminated.
2023-06-11 17:07:33.841 | INFO     | ArduPilotManager:kill_ardupilot:445 - Ardupilot subprocess terminated.
2023-06-11 17:07:33.842 | INFO     | ArduPilotManager:kill_ardupilot:446 - Pruning Ardupilot's system processes.
2023-06-11 17:07:33.936 | DEBUG    | ArduPilotManager:prune_ardupilot_processes:425 - Killing Ardupilot process ardupilot_navigator::1230.
2023-06-11 17:07:34.288 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54852 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:34.438 | INFO     | ArduPilotManager:kill_ardupilot:448 - Ardupilot's system processes pruned.
2023-06-11 17:07:34.440 | INFO     | ArduPilotManager:kill_ardupilot:450 - Stopping Mavlink manager.
2023-06-11 17:07:34.442 | INFO     | ArduPilotManager:kill_ardupilot:452 - Mavlink manager stopped.
2023-06-11 17:07:34.445 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:34.450 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:34.479 | WARNING  | ArduPilotManager:start_ardupilot:462 - More than a single board detected: [FlightController(name='Navigator', manufacturer='Blue Robotics', platform=<Platform.Navigator: 'navigator'>, path=None, flags=[]), FlightController(name='SITL', manufacturer='ArduPilot Team', platform=<Platform.SITL: 'SITL_arm_linux_gnueabihf'>, path=None, flags=[])]
2023-06-11 17:07:34.481 | DEBUG    | ArduPilotManager:get_board_to_be_used:377 - Preferred flight-controller is Pixhawk1.
2023-06-11 17:07:34.484 | DEBUG    | ArduPilotManager:get_board_to_be_used:382 - Flight-controller Pixhawk1 not connected.
2023-06-11 17:07:34.486 | INFO     | ArduPilotManager:start_ardupilot:465 - Using Navigator flight-controller.
2023-06-11 17:07:34.540 | INFO     | ArduPilotManager:start_linux_board:223 - Using command line: '/root/.config/ardupilot-manager/firmware/ardupilot_navigator -A udp:127.0.0.1:8852 --log-directory /root/.config/ardupilot-manager/firmware/logs/ --storage-directory /root/.config/ardupilot-manager/firmware/storage/ -C /dev/ttyS0 -B /dev/ttyAMA1 -E /dev/ttyAMA2 -F /dev/ttyAMA3'
2023-06-11 17:07:34.572 | DEBUG    | mavlink_proxy.AbstractRouter:start:90 - Calling router using following command: '/usr/bin/mavlink-routerd 127.0.0.1:8852 0.0.0.0:14660 --endpoint 127.0.0.1:14000 --endpoint 192.168.2.1:14551 --endpoint 192.168.2.1:14550 --tcp-port 5777 -l /root/.config/ardupilot-manager/logs'.
2023-06-11 17:07:35.654 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:35.662 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:35.692 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54858 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:35.715 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54862 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:39.330 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55098 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:39.437 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:54954 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:07:40.790 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:40.799 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:40.822 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55150 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:40.840 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55152 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:44.379 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55246 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:45.501 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55254 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:07:45.905 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:45.916 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:45.944 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55296 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:45.977 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55298 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:49.455 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55390 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:51.029 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:51.038 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:51.055 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55444 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:51.068 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55446 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:51.608 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55416 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:07:54.538 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55532 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:07:56.169 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:07:56.174 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:07:56.201 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55562 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:07:56.218 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55564 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:07:57.693 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55584 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:07:59.389 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55816 - "GET / HTTP/1.1" 200
2023-06-11 17:07:59.433 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55818 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:07:59.444 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55820 - "GET /docs HTTP/1.1" 200
2023-06-11 17:07:59.462 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55822 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:07:59.473 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55824 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:07:59.485 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55826 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:07:59.501 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55828 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:07:59.516 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55830 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:07:59.597 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55846 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:01.330 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:01.336 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:01.373 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55922 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:01.385 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55924 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:03.772 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:55978 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:04.648 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56026 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:06.452 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:06.456 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:06.490 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56072 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:06.513 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56074 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:09.710 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56170 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:09.840 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56138 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:11.562 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:11.568 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:11.580 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56220 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:11.598 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56226 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:14.773 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56302 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:15.917 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56306 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:16.663 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:16.667 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:16.696 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56362 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:16.712 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56364 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:19.835 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56444 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:21.764 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:21.770 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:21.797 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56500 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:21.805 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56502 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:21.999 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56468 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:25.855 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56608 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:26.931 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:26.937 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:26.957 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56636 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:26.972 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56638 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:28.915 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56662 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:31.859 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56768 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:32.860 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:32.866 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:32.906 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56796 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:32.920 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56798 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:35.978 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56858 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:37.861 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56928 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:38.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:38.875 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:38.924 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56948 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:38.948 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:56950 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:42.912 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57028 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:43.856 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57088 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:44.853 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:44.858 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:44.893 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57118 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:44.905 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57120 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:49.870 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57368 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:49.923 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57210 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:50.862 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:50.868 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:50.904 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57404 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:50.923 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57406 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:08:55.869 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57526 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:08:56.862 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:08:56.873 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:08:56.933 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57562 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:08:56.952 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57530 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:08:56.962 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57564 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:01.858 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57692 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:02.862 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:02.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:02.903 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57720 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:02.918 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57724 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:03.925 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57722 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:04.934 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57940 - "GET / HTTP/1.1" 200
2023-06-11 17:09:04.974 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57942 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:09:04.989 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57944 - "GET /docs HTTP/1.1" 200
2023-06-11 17:09:05.006 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57948 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:09:05.021 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57950 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:09:05.032 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57952 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:09:05.046 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57954 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:09:05.061 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:57956 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:09:08.032 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58068 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:08.860 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:08.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:08.894 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58092 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:08.907 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58094 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:10.874 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58126 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:13.887 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58238 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:14.846 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:14.856 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:14.872 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58260 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:14.888 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58262 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:17.901 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58314 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:19.877 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58394 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:20.860 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:20.868 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:20.885 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58412 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:20.902 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58414 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:23.972 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58470 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:24.937 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58526 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:42.487 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:42.500 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:42.512 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58918 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:42.573 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58920 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:42.593 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58916 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:43.599 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:58922 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:47.569 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59054 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:47.627 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:47.645 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:47.691 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59058 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:47.703 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59056 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:49.664 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59094 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:52.617 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59194 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:52.735 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:52.741 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:52.748 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59200 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:52.769 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59206 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:09:55.745 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59262 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:09:57.670 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59332 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:09:57.807 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:09:57.813 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:09:57.821 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59342 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:09:57.841 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59348 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:01.821 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59548 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:02.737 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59594 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:02.875 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:02.882 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:02.915 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59610 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:02.934 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59612 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:07.800 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59740 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:07.907 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59710 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:07.966 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:07.973 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:07.990 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59756 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:08.012 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59758 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:12.863 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59872 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:13.068 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:13.078 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:13.119 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59894 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:13.136 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59896 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:13.984 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:59884 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:14.418 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60090 - "GET / HTTP/1.1" 200
2023-06-11 17:10:14.462 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60094 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:10:14.479 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60096 - "GET /docs HTTP/1.1" 200
2023-06-11 17:10:14.495 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60098 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:10:14.509 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60100 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:10:14.521 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60102 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:10:14.536 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60104 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:10:14.552 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60106 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:10:17.911 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60234 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:18.178 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:18.182 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:18.204 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60250 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:18.214 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60252 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:20.063 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60282 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:22.963 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60390 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:23.264 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:23.271 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:23.296 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60396 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:23.311 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60398 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:26.142 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60452 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:28.003 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60526 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:28.350 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:28.357 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:28.377 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60542 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:28.392 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60544 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:32.229 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60608 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:33.051 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60668 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:33.439 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:33.446 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:33.471 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60684 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:33.488 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60686 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:38.102 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60804 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:38.303 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60770 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:38.529 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:38.535 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:38.603 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60818 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:38.614 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60816 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:43.152 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60932 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:43.637 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:43.654 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:43.700 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60952 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:43.721 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60950 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:44.381 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:60934 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:48.202 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32838 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:48.760 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:48.765 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:48.792 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32846 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:48.813 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32848 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:50.454 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32872 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:53.271 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32968 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:53.849 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32986 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:53.856 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:53.861 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:53.883 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:32996 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:10:56.567 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33030 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:10:58.325 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33114 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:10:58.925 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:10:58.929 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33182 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:10:58.934 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:10:58.957 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33196 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:02.650 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33324 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:03.385 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33386 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:04.003 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:04.013 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:04.026 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33398 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:04.045 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33410 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:07.723 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33494 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:08.426 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33522 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:09.085 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:09.095 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:09.122 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33540 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:09.148 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33542 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:13.474 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33666 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:13.808 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33630 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:14.192 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:14.195 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:14.213 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33786 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:14.229 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33794 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:14.444 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33842 - "GET / HTTP/1.1" 200
2023-06-11 17:11:14.509 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33850 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:11:14.530 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33852 - "GET /docs HTTP/1.1" 200
2023-06-11 17:11:14.548 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33854 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:11:14.567 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33856 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:11:14.585 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33858 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:11:14.601 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33860 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:11:14.620 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:33862 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:11:18.524 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34002 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:19.286 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:19.293 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:19.321 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34032 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:19.339 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34034 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:19.886 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34018 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:23.568 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34152 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:24.386 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:24.398 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:24.435 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34168 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:24.452 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34170 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:25.950 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34188 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:28.612 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34298 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:29.499 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:29.506 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:29.509 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34318 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:29.536 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34324 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:32.027 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34358 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:33.676 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34442 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:34.578 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:34.585 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:34.603 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34458 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:34.631 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34460 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:38.098 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34524 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:38.735 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34578 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:39.691 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34594 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:39.703 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:39.713 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:39.736 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34604 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:43.803 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34708 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:44.191 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34688 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:44.788 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34728 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:44.800 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:44.805 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:44.843 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34738 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:48.855 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34836 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:49.844 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34866 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:49.888 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:49.892 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:49.909 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34880 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:50.282 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34842 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:53.907 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:34980 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:11:54.942 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35004 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:11:54.963 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:11:54.971 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:11:54.999 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35014 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:11:56.370 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35020 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:11:58.957 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35126 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:00.018 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35146 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:00.049 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:00.052 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:00.074 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35156 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:02.442 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35182 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:03.999 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35326 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:05.110 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35400 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:05.120 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:05.124 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:05.146 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35410 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:08.520 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35464 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:09.048 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35518 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:10.192 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35542 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:10.202 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:10.208 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:10.251 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35552 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:14.105 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35650 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:14.611 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35630 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:15.281 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35678 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:15.299 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:15.302 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:15.319 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35692 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:19.165 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35882 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:19.514 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35942 - "GET / HTTP/1.1" 200
2023-06-11 17:12:19.553 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35944 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:12:19.567 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35946 - "GET /docs HTTP/1.1" 200
2023-06-11 17:12:19.583 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35948 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:12:19.593 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35950 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:12:19.604 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35952 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:12:19.619 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35954 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:12:19.632 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35956 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:12:20.353 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36032 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:20.366 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:20.372 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:20.394 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36042 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:20.700 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:35960 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:24.229 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36142 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:25.437 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:25.441 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:25.475 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36166 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:25.485 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36168 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:26.776 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36186 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:29.293 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36282 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:30.533 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:30.536 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:30.622 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36308 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:30.634 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36306 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:32.861 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36356 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:34.348 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36430 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:35.678 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:35.684 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:35.725 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36456 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:35.743 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36454 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:38.947 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36514 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:39.398 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36576 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:40.784 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:40.789 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:40.817 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36600 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:40.831 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36602 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:44.454 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36714 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:45.039 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36692 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:45.876 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:45.885 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36742 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:45.890 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:45.911 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36748 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:49.514 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36832 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:50.971 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:50.979 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:50.985 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36876 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:51.009 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36886 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:51.156 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36848 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:54.568 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:36972 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:12:56.067 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:12:56.074 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:12:56.105 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37006 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:12:56.123 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37008 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:12:57.235 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37018 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:12:59.622 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37118 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:01.174 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:01.188 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:01.208 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37146 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:01.241 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37152 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:03.317 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37182 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:04.676 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37280 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:06.281 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:06.291 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:06.318 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37312 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:06.340 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37314 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:09.402 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37374 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:09.720 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37422 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:11.383 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:11.394 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:11.412 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37450 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:11.432 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37452 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:14.769 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37552 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:15.537 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37536 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:16.477 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:16.485 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:16.504 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37590 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:16.524 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37592 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:19.816 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37798 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:20.753 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37958 - "GET / HTTP/1.1" 200
2023-06-11 17:13:20.801 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37960 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:13:20.816 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37962 - "GET /docs HTTP/1.1" 200
2023-06-11 17:13:20.831 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37964 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:13:20.845 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37966 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:13:20.859 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37968 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:13:20.875 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37970 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:13:20.892 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37972 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:13:21.568 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:21.575 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:21.599 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38042 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:21.622 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38044 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:21.635 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:37928 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:24.862 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38138 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:26.664 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:26.680 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:26.715 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38184 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:26.738 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38188 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:26.762 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38186 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:29.922 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38282 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:31.821 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:31.840 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:31.859 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38316 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:31.895 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38326 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:32.905 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38322 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:35.040 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38412 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:36.921 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:36.927 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:36.933 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38458 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:36.956 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38464 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:39.905 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38516 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:40.871 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38576 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:42.873 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:42.882 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:42.912 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38618 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:42.939 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38620 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:46.853 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38728 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:46.894 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38700 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:48.864 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:48.871 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:48.887 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38776 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:48.906 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38778 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:52.862 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38872 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:13:53.920 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38874 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:13:54.855 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:13:54.868 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:13:54.912 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38932 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:13:54.922 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:38934 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:13:58.845 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39036 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:00.866 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:00.874 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:00.887 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39058 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:00.909 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39092 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:00.924 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39094 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:04.853 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39208 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:06.893 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:06.906 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:06.923 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39254 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:06.945 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39264 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:07.945 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39252 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:10.865 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39362 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:12.868 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:12.875 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:12.904 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39410 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:12.923 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39412 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:14.911 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39436 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:16.856 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39516 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:18.880 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:18.889 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:18.925 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39568 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:18.946 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39570 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:21.897 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39620 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:22.841 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39684 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:24.862 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:24.867 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:24.897 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39844 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:24.909 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:39842 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:26.266 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40028 - "GET / HTTP/1.1" 200
2023-06-11 17:14:26.312 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40030 - "GET /register_service HTTP/1.1" 404
2023-06-11 17:14:26.325 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40032 - "GET /docs HTTP/1.1" 200
2023-06-11 17:14:26.342 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40034 - "GET /docs.json HTTP/1.1" 404
2023-06-11 17:14:26.355 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40036 - "GET /openapi.json HTTP/1.1" 200
2023-06-11 17:14:26.370 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40038 - "GET /v1.0/docs HTTP/1.1" 200
2023-06-11 17:14:26.385 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40040 - "GET /v1.0/openapi.json HTTP/1.1" 200
2023-06-11 17:14:26.401 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40042 - "GET /swagger.json HTTP/1.1" 404
2023-06-11 17:14:28.861 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40158 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:28.893 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40126 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:30.874 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:30.883 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:30.910 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40208 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:30.925 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40206 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:34.853 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40314 - "GET /v1.0/board HTTP/1.0" 200
2023-06-11 17:14:35.903 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40316 - "GET /v1.0/vehicle_type HTTP/1.0" 200
2023-06-11 17:14:36.872 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:50 - Trying to detect Linux board.
2023-06-11 17:14:36.877 | DEBUG    | flight_controller_detector.Detector:detect_linux_board:52 - Navigator R5 detected.
2023-06-11 17:14:36.915 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40370 - "GET /v1.0/firmware_info HTTP/1.0" 200
2023-06-11 17:14:36.932 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40372 - "GET /v1.0/available_boards HTTP/1.0" 200
2023-06-11 17:14:40.852 | INFO     | uvicorn.protocols.http.h11_impl:send:461 - 127.0.0.1:40466 - "GET /v1.0/board HTTP/1.0" 200
